{"ast":null,"code":"var _jsxFileName = \"/home/alexeyko/Documents/React-tracker/src/components/Main/Tracker/TimerNew/TimerNew.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport s from './TimerNew.module.css';\nimport { Field, reduxForm } from \"redux-form\";\nimport { Input } from \"../../../../common/Forms/FormsControl\";\nimport Stopwatch from \"./Stopwatch/Stopwatch\";\nimport TimeSlider from \"../TimeSlider/TimeSlider\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { copyWorklog, submitForm } from \"../../../../store/reducers/issuesReducer\";\n\nconst TimerNew = props => {\n  const [onTimer, setOnTimer] = useState(false);\n  const [onSlider, setOnSlider] = useState(false);\n  const [stopwatchTime, setStopwatchTime] = useState(0);\n  const [sliderValue, setSliderValue] = useState([540, 690]);\n  const dispatch = useDispatch();\n  const initialLabel = useSelector(state => state.issuesList.initialLabel);\n  const initialName = useSelector(state => state.issuesList.initialName);\n  let initalValues = {\n    label: initialLabel,\n    issue: initialName\n  };\n\n  const toggleTimer = () => {\n    setOnTimer(!onTimer);\n  };\n\n  const toggleSlider = () => {\n    setOnSlider(!onSlider);\n  };\n\n  let onSubmitForm = data => {\n    dispatch(submitForm(stopwatchTime, sliderValue, data.label, data.issue));\n    dispatch(copyWorklog(null, null));\n    setStopwatchTime(0);\n    setSliderValue([540, 690]);\n    toggleSlider();\n    toggleTimer();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, onTimer || initialLabel ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: s.newWorklog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: s.appendWorklog,\n    onClick: toggleTimer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: s.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"NEW WORKLOG\")), onTimer || initialLabel ? /*#__PURE__*/React.createElement(\"div\", {\n    className: s.timerOn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 44\n    }\n  }, /*#__PURE__*/React.createElement(IssueForm, {\n    initialValues: initalValues,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Stopwatch, {\n    toggleSlider: toggleSlider,\n    stopwatchTime: stopwatchTime,\n    setStopwatchTime: setStopwatchTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }), onSlider ? /*#__PURE__*/React.createElement(TimeSlider, {\n    onSubmit: onSubmitForm,\n    sliderValue: sliderValue,\n    setSliderValue: setSliderValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }) : null) : null);\n};\n\nlet IssueForm = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: 'label',\n    component: Input,\n    placeholder: 'New Label',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: 'issue',\n    component: Input,\n    placeholder: 'New Issue',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  })));\n};\n\nIssueForm = reduxForm({\n  form: 'issueForm'\n})(IssueForm);\nexport default TimerNew;","map":{"version":3,"sources":["/home/alexeyko/Documents/React-tracker/src/components/Main/Tracker/TimerNew/TimerNew.jsx"],"names":["React","useEffect","useState","s","Field","reduxForm","Input","Stopwatch","TimeSlider","useDispatch","useSelector","copyWorklog","submitForm","TimerNew","props","onTimer","setOnTimer","onSlider","setOnSlider","stopwatchTime","setStopwatchTime","sliderValue","setSliderValue","dispatch","initialLabel","state","issuesList","initialName","initalValues","label","issue","toggleTimer","toggleSlider","onSubmitForm","data","newWorklog","appendWorklog","timerOn","IssueForm","form"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport s from './TimerNew.module.css';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../../../../common/Forms/FormsControl\";\nimport Stopwatch from \"./Stopwatch/Stopwatch\";\nimport TimeSlider from \"../TimeSlider/TimeSlider\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {copyWorklog, submitForm} from \"../../../../store/reducers/issuesReducer\";\n\nconst TimerNew = (props) => {\n        const [onTimer, setOnTimer] = useState(false);\n        const [onSlider, setOnSlider] = useState(false);\n        const [stopwatchTime, setStopwatchTime] = useState(0);\n        const [sliderValue, setSliderValue] = useState([540, 690]);\n        const dispatch = useDispatch();\n        const initialLabel = useSelector(state => state.issuesList.initialLabel);\n        const initialName = useSelector(state => state.issuesList.initialName);\n        let initalValues = {\n            label: initialLabel,\n            issue: initialName\n        }\n\n        const toggleTimer = () => {\n            setOnTimer(!onTimer);\n        };\n\n        const toggleSlider = () => {\n            setOnSlider(!onSlider);\n        };\n\n        let onSubmitForm = (data) => {\n            dispatch(submitForm(stopwatchTime, sliderValue, data.label, data.issue));\n            dispatch(copyWorklog(null,null));\n            setStopwatchTime(0);\n            setSliderValue([540, 690]);\n            toggleSlider();\n            toggleTimer();\n        }\n\n        return (\n            <div>\n                {onTimer || initialLabel ? null :\n                    <div className={s.newWorklog}>\n                        <button className={s.appendWorklog} onClick={toggleTimer}/>\n                        <p className={s.label}>NEW WORKLOG</p>\n                    </div>}\n                {onTimer || initialLabel ? <div className={s.timerOn}>\n                    <IssueForm initialValues={initalValues}/>\n                    <Stopwatch toggleSlider={toggleSlider} stopwatchTime={stopwatchTime}\n                               setStopwatchTime={setStopwatchTime}/>\n                    {onSlider ? <TimeSlider onSubmit={onSubmitForm} sliderValue={sliderValue}\n                                            setSliderValue={setSliderValue}/> : null}\n                </div> : null}\n            </div>\n        )\n    }\n;\n\nlet IssueForm = (props) => {\n    return (\n        <div>\n            <form>\n                <Field name={'label'} component={Input} placeholder={'New Label'}/>\n                <Field name={'issue'} component={Input} placeholder={'New Issue'}/>\n            </form>\n        </div>\n    )\n}\n\nIssueForm = reduxForm(\n    {\n        form: 'issueForm'\n    }\n)(IssueForm);\n\nexport default TimerNew;\n\n"]},"metadata":{},"sourceType":"module"}