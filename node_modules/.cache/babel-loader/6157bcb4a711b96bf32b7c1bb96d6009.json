{"ast":null,"code":"import _slicedToArray from\"/home/alexeyko/Documents/React-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import s from'./TimerNew.module.css';import{Field,reduxForm}from\"redux-form\";import{Input}from\"../../../../common/Forms/FormsControl\";import Stopwatch from\"./Stopwatch/Stopwatch\";import TimeSlider from\"../TimeSlider/TimeSlider\";import{useDispatch,useSelector}from\"react-redux\";import{copyWorklog,submitForm}from\"../../../../store/reducers/issuesReducer\";var TimerNew=function TimerNew(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),onTimer=_useState2[0],setOnTimer=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),onSlider=_useState4[0],setOnSlider=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),stopwatchTime=_useState6[0],setStopwatchTime=_useState6[1];var _useState7=useState([540,690]),_useState8=_slicedToArray(_useState7,2),sliderValue=_useState8[0],setSliderValue=_useState8[1];var dispatch=useDispatch();var initialLabel=useSelector(function(state){return state.issuesList.initialLabel;});var initialName=useSelector(function(state){return state.issuesList.initialName;});var initalValues={label:initialLabel,issue:initialName};var toggleTimer=function toggleTimer(){setOnTimer(!onTimer);};var toggleSlider=function toggleSlider(){setOnSlider(!onSlider);};var onSubmitForm=function onSubmitForm(data){dispatch(submitForm(stopwatchTime,sliderValue,data.label,data.issue));dispatch(copyWorklog(null,null));setStopwatchTime(0);setSliderValue([540,690]);toggleSlider();toggleTimer();};return/*#__PURE__*/React.createElement(\"div\",null,onTimer||initialLabel?null:/*#__PURE__*/React.createElement(\"div\",{className:s.newWorklog},/*#__PURE__*/React.createElement(\"button\",{className:s.appendWorklog,onClick:toggleTimer}),/*#__PURE__*/React.createElement(\"p\",{className:s.label},\"NEW WORKLOG\")),onTimer||initialLabel?/*#__PURE__*/React.createElement(\"div\",{className:s.timerOn},/*#__PURE__*/React.createElement(IssueForm,{initialValues:initalValues}),/*#__PURE__*/React.createElement(Stopwatch,{toggleSlider:toggleSlider,stopwatchTime:stopwatchTime,setStopwatchTime:setStopwatchTime}),onSlider?/*#__PURE__*/React.createElement(TimeSlider,{onSubmit:onSubmitForm,sliderValue:sliderValue,setSliderValue:setSliderValue}):null):null);};var IssueForm=function IssueForm(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Field,{name:'label',component:Input,placeholder:'New Label'}),/*#__PURE__*/React.createElement(Field,{name:'issue',component:Input,placeholder:'New Issue'})));};IssueForm=reduxForm({form:'issueForm'})(IssueForm);export default TimerNew;","map":{"version":3,"sources":["/home/alexeyko/Documents/React-tracker/src/components/Main/Tracker/TimerNew/TimerNew.jsx"],"names":["React","useEffect","useState","s","Field","reduxForm","Input","Stopwatch","TimeSlider","useDispatch","useSelector","copyWorklog","submitForm","TimerNew","props","onTimer","setOnTimer","onSlider","setOnSlider","stopwatchTime","setStopwatchTime","sliderValue","setSliderValue","dispatch","initialLabel","state","issuesList","initialName","initalValues","label","issue","toggleTimer","toggleSlider","onSubmitForm","data","newWorklog","appendWorklog","timerOn","IssueForm","form"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport s from './TimerNew.module.css';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../../../../common/Forms/FormsControl\";\nimport Stopwatch from \"./Stopwatch/Stopwatch\";\nimport TimeSlider from \"../TimeSlider/TimeSlider\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {copyWorklog, submitForm} from \"../../../../store/reducers/issuesReducer\";\n\nconst TimerNew = (props) => {\n        const [onTimer, setOnTimer] = useState(false);\n        const [onSlider, setOnSlider] = useState(false);\n        const [stopwatchTime, setStopwatchTime] = useState(0);\n        const [sliderValue, setSliderValue] = useState([540, 690]);\n        const dispatch = useDispatch();\n        const initialLabel = useSelector(state => state.issuesList.initialLabel);\n        const initialName = useSelector(state => state.issuesList.initialName);\n        let initalValues = {\n            label: initialLabel,\n            issue: initialName\n        }\n\n        const toggleTimer = () => {\n            setOnTimer(!onTimer);\n        };\n\n        const toggleSlider = () => {\n            setOnSlider(!onSlider);\n        };\n\n        let onSubmitForm = (data) => {\n            dispatch(submitForm(stopwatchTime, sliderValue, data.label, data.issue));\n            dispatch(copyWorklog(null,null));\n            setStopwatchTime(0);\n            setSliderValue([540, 690]);\n            toggleSlider();\n            toggleTimer();\n        }\n\n        return (\n            <div>\n                {onTimer || initialLabel ? null :\n                    <div className={s.newWorklog}>\n                        <button className={s.appendWorklog} onClick={toggleTimer}/>\n                        <p className={s.label}>NEW WORKLOG</p>\n                    </div>}\n                {onTimer || initialLabel ? <div className={s.timerOn}>\n                    <IssueForm initialValues={initalValues}/>\n                    <Stopwatch toggleSlider={toggleSlider} stopwatchTime={stopwatchTime}\n                               setStopwatchTime={setStopwatchTime}/>\n                    {onSlider ? <TimeSlider onSubmit={onSubmitForm} sliderValue={sliderValue}\n                                            setSliderValue={setSliderValue}/> : null}\n                </div> : null}\n            </div>\n        )\n    }\n;\n\nlet IssueForm = (props) => {\n    return (\n        <div>\n            <form>\n                <Field name={'label'} component={Input} placeholder={'New Label'}/>\n                <Field name={'issue'} component={Input} placeholder={'New Issue'}/>\n            </form>\n        </div>\n    )\n}\n\nIssueForm = reduxForm(\n    {\n        form: 'issueForm'\n    }\n)(IssueForm);\n\nexport default TimerNew;\n\n"]},"metadata":{},"sourceType":"module"}