{"ast":null,"code":"import { getToday } from \"./dateReducer\";\nconst NEW_WORKLOG = 'NEW_WORKLOG';\nconst DELETE_WORKLOG = 'DELETE_WORKLOG';\nconst COPY_WORKLOG = 'COPY_WORKLOG';\nconst SET_ACTIVE_TIMER = 'SET_ACTIVE_TIMER';\nconst ADD_FAVORITE = 'ADD_FAVORITE';\nconst initialState = {\n  issues: [{\n    time: {\n      from: '09:00',\n      by: '10:00'\n    },\n    label: 'JRM-310',\n    name: 'Team standup',\n    timer: '01:00:00',\n    id: 99,\n    date: getToday()\n  }],\n  favoriteIssues: [{\n    time: {\n      from: '14:00',\n      by: '17:30'\n    },\n    label: 'JRM-541',\n    name: 'WORK',\n    timer: '8:00:00',\n    id: 98\n  }],\n  timer: '00:00:00'\n};\nexport default function issuesReducer(state = initialState, action) {\n  let issues = [...state.issues];\n  let favoriteIssues = [...state.favoriteIssues];\n\n  switch (action.type) {\n    case NEW_WORKLOG:\n      function formatTime(time) {\n        let from = Math.trunc(time[0] / 60);\n        let from2 = time[0] % 60;\n        let by = Math.trunc(time[1] / 60);\n        let by2 = time[1] % 60;\n\n        if (time[0] < 600) {\n          from = '0' + from;\n        }\n\n        if (time[1] < 600) {\n          by = '0' + by;\n        }\n\n        if (from2 === 0) {\n          from2 = '0' + from2;\n        }\n\n        if (by2 === 0) {\n          by2 = '0' + by2;\n        }\n\n        let fromResult = from + ':' + from2;\n        let byResult = by + ':' + by2;\n        return [fromResult, byResult];\n      }\n\n      let resultTime = formatTime(action.payload.sliderValue);\n      let from = resultTime[0];\n      let by = resultTime[1];\n\n      let formatStopwatchTime = time => {\n        let seconds = time % 60;\n        let minutes = Math.trunc(time / 60 % 60);\n        let hour = Math.trunc(time / 3600 % 24);\n\n        if (hour < 10) {\n          hour = '0' + hour;\n        }\n\n        if (minutes < 10) {\n          minutes = '0' + minutes;\n        }\n\n        if (seconds < 10) {\n          seconds = '0' + seconds;\n        }\n\n        let stopWatchTime = hour + ':' + minutes + ':' + seconds;\n        return stopWatchTime;\n      };\n\n      let stopwatchTime = formatStopwatchTime(action.payload.stopwatchTime);\n\n      function getRandomArbitrary(min, max) {\n        return Math.random() * (max - min) + min;\n      }\n\n      let calculateId = getRandomArbitrary(0, 10);\n      let date = new Date();\n      let issuesDate = `${date.getFullYear()}${date.getMonth()}${date.getDay()}`;\n      issues.push({\n        time: {\n          from: from,\n          by: by\n        },\n        label: action.payload.label,\n        name: action.payload.issue,\n        timer: stopwatchTime,\n        id: calculateId,\n        date: issuesDate\n      });\n      return { ...state,\n        issues\n      };\n\n    case DELETE_WORKLOG:\n      if (action.payload.isFavorite === true) favoriteIssues = favoriteIssues.filter(item => item.id !== action.payload.id);\n      if (action.payload.isFavorite === false) issues = issues.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        issues,\n        favoriteIssues\n      };\n\n    case COPY_WORKLOG:\n      let initialLabel = action.payload.label;\n      let initialName = action.payload.name;\n      return { ...state,\n        initialLabel,\n        initialName\n      };\n\n    case SET_ACTIVE_TIMER:\n      return { ...state,\n        isActiveTimer: !state.isActiveTimer\n      };\n\n    case ADD_FAVORITE:\n      let item = issues.map(item => item.id === action.payload.id ? { ...item\n      } : null).filter(item => item !== null);\n      favoriteIssues.push(...item);\n      console.log(favoriteIssues);\n      console.log(issues);\n      return { ...state,\n        favoriteIssues\n      };\n\n    default:\n      return state;\n  }\n}\nexport const submitForm = (stopwatchTime, sliderValue, label, issue) => ({\n  type: NEW_WORKLOG,\n  payload: {\n    stopwatchTime,\n    sliderValue,\n    label,\n    issue\n  }\n});\nexport const deleteWorklog = (id, isFavorite) => ({\n  type: DELETE_WORKLOG,\n  payload: {\n    id,\n    isFavorite\n  }\n});\nexport const copyWorklog = (label, name) => ({\n  type: COPY_WORKLOG,\n  payload: {\n    label,\n    name\n  }\n});\nexport const addFavorite = id => ({\n  type: ADD_FAVORITE,\n  payload: {\n    id\n  }\n});","map":{"version":3,"sources":["/home/alexeyko/Documents/React-tracker/src/store/reducers/issuesReducer.js"],"names":["getToday","NEW_WORKLOG","DELETE_WORKLOG","COPY_WORKLOG","SET_ACTIVE_TIMER","ADD_FAVORITE","initialState","issues","time","from","by","label","name","timer","id","date","favoriteIssues","issuesReducer","state","action","type","formatTime","Math","trunc","from2","by2","fromResult","byResult","resultTime","payload","sliderValue","formatStopwatchTime","seconds","minutes","hour","stopWatchTime","stopwatchTime","getRandomArbitrary","min","max","random","calculateId","Date","issuesDate","getFullYear","getMonth","getDay","push","issue","isFavorite","filter","item","initialLabel","initialName","isActiveTimer","map","console","log","submitForm","deleteWorklog","copyWorklog","addFavorite"],"mappings":"AAAA,SAAQA,QAAR,QAAuB,eAAvB;AAEA,MAAMC,WAAW,GAAG,aAApB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AACA,MAAMC,YAAY,GAAG,cAArB;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;AACA,MAAMC,YAAY,GAAG,cAArB;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,OADJ;AAEFC,MAAAA,EAAE,EAAE;AAFF,KADV;AAKIC,IAAAA,KAAK,EAAE,SALX;AAMIC,IAAAA,IAAI,EAAE,cANV;AAOIC,IAAAA,KAAK,EAAE,UAPX;AAQIC,IAAAA,EAAE,EAAE,EARR;AASIC,IAAAA,IAAI,EAAEf,QAAQ;AATlB,GADI,CADS;AAcjBgB,EAAAA,cAAc,EAAE,CACZ;AACIR,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,OADJ;AAEFC,MAAAA,EAAE,EAAE;AAFF,KADV;AAKIC,IAAAA,KAAK,EAAE,SALX;AAMIC,IAAAA,IAAI,EAAE,MANV;AAOIC,IAAAA,KAAK,EAAE,SAPX;AAQIC,IAAAA,EAAE,EAAE;AARR,GADY,CAdC;AA0BjBD,EAAAA,KAAK,EAAE;AA1BU,CAArB;AA6BA,eAAe,SAASI,aAAT,CAAuBC,KAAK,GAAGZ,YAA/B,EAA6Ca,MAA7C,EAAqD;AAChE,MAAIZ,MAAM,GAAG,CAAC,GAAGW,KAAK,CAACX,MAAV,CAAb;AACA,MAAIS,cAAc,GAAG,CAAC,GAAGE,KAAK,CAACF,cAAV,CAArB;;AAEA,UAAQG,MAAM,CAACC,IAAf;AACI,SAAKnB,WAAL;AAEA,eAASoB,UAAT,CAAoBb,IAApB,EAA0B;AACtB,YAAIC,IAAI,GAAGa,IAAI,CAACC,KAAL,CAAWf,IAAI,CAAC,CAAD,CAAJ,GAAU,EAArB,CAAX;AACA,YAAIgB,KAAK,GAAGhB,IAAI,CAAC,CAAD,CAAJ,GAAU,EAAtB;AACA,YAAIE,EAAE,GAAGY,IAAI,CAACC,KAAL,CAAWf,IAAI,CAAC,CAAD,CAAJ,GAAU,EAArB,CAAT;AACA,YAAIiB,GAAG,GAAGjB,IAAI,CAAC,CAAD,CAAJ,GAAU,EAApB;;AAEA,YAAIA,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAd,EAAmB;AACfC,UAAAA,IAAI,GAAG,MAAMA,IAAb;AACH;;AACD,YAAID,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAd,EAAmB;AACfE,UAAAA,EAAE,GAAG,MAAMA,EAAX;AACH;;AACD,YAAIc,KAAK,KAAK,CAAd,EAAiB;AACbA,UAAAA,KAAK,GAAG,MAAMA,KAAd;AACH;;AACD,YAAIC,GAAG,KAAK,CAAZ,EAAe;AACXA,UAAAA,GAAG,GAAG,MAAMA,GAAZ;AACH;;AAED,YAAIC,UAAU,GAAGjB,IAAI,GAAG,GAAP,GAAae,KAA9B;AACA,YAAIG,QAAQ,GAAGjB,EAAE,GAAG,GAAL,GAAWe,GAA1B;AACA,eAAO,CAACC,UAAD,EAAaC,QAAb,CAAP;AACH;;AAEG,UAAIC,UAAU,GAAGP,UAAU,CAACF,MAAM,CAACU,OAAP,CAAeC,WAAhB,CAA3B;AACA,UAAIrB,IAAI,GAAGmB,UAAU,CAAC,CAAD,CAArB;AACA,UAAIlB,EAAE,GAAGkB,UAAU,CAAC,CAAD,CAAnB;;AAEA,UAAIG,mBAAmB,GAAIvB,IAAD,IAAU;AAChC,YAAIwB,OAAO,GAAGxB,IAAI,GAAG,EAArB;AACA,YAAIyB,OAAO,GAAGX,IAAI,CAACC,KAAL,CAAWf,IAAI,GAAG,EAAP,GAAY,EAAvB,CAAd;AACA,YAAI0B,IAAI,GAAGZ,IAAI,CAACC,KAAL,CAAWf,IAAI,GAAG,IAAP,GAAc,EAAzB,CAAX;;AACA,YAAI0B,IAAI,GAAG,EAAX,EAAe;AACXA,UAAAA,IAAI,GAAG,MAAMA,IAAb;AACH;;AACD,YAAID,OAAO,GAAG,EAAd,EAAkB;AACdA,UAAAA,OAAO,GAAG,MAAMA,OAAhB;AACH;;AACD,YAAID,OAAO,GAAG,EAAd,EAAkB;AACdA,UAAAA,OAAO,GAAG,MAAMA,OAAhB;AACH;;AACD,YAAIG,aAAa,GAAGD,IAAI,GAAG,GAAP,GAAaD,OAAb,GAAuB,GAAvB,GAA6BD,OAAjD;AACA,eAAOG,aAAP;AACH,OAfD;;AAiBA,UAAIC,aAAa,GAAGL,mBAAmB,CAACZ,MAAM,CAACU,OAAP,CAAeO,aAAhB,CAAvC;;AAEJ,eAASC,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AAClC,eAAOjB,IAAI,CAACkB,MAAL,MAAiBD,GAAG,GAAGD,GAAvB,IAA8BA,GAArC;AACH;;AAEG,UAAIG,WAAW,GAAGJ,kBAAkB,CAAC,CAAD,EAAI,EAAJ,CAApC;AAEA,UAAItB,IAAI,GAAG,IAAI2B,IAAJ,EAAX;AACA,UAAIC,UAAU,GAAI,GAAE5B,IAAI,CAAC6B,WAAL,EAAmB,GAAE7B,IAAI,CAAC8B,QAAL,EAAgB,GAAE9B,IAAI,CAAC+B,MAAL,EAAc,EAAzE;AAEAvC,MAAAA,MAAM,CAACwC,IAAP,CACI;AACIvC,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAEA,IADJ;AAEFC,UAAAA,EAAE,EAAEA;AAFF,SADV;AAKIC,QAAAA,KAAK,EAAEQ,MAAM,CAACU,OAAP,CAAelB,KAL1B;AAMIC,QAAAA,IAAI,EAAEO,MAAM,CAACU,OAAP,CAAemB,KANzB;AAOInC,QAAAA,KAAK,EAAEuB,aAPX;AAQItB,QAAAA,EAAE,EAAE2B,WARR;AASI1B,QAAAA,IAAI,EAAE4B;AATV,OADJ;AAYA,aAAO,EACH,GAAGzB,KADA;AAEHX,QAAAA;AAFG,OAAP;;AAIJ,SAAKL,cAAL;AACI,UAAIiB,MAAM,CAACU,OAAP,CAAeoB,UAAf,KAA8B,IAAlC,EAAwCjC,cAAc,GAAGA,cAAc,CAACkC,MAAf,CAAsBC,IAAI,IAAIA,IAAI,CAACrC,EAAL,KAAYK,MAAM,CAACU,OAAP,CAAef,EAAzD,CAAjB;AACxC,UAAIK,MAAM,CAACU,OAAP,CAAeoB,UAAf,KAA8B,KAAlC,EAAyC1C,MAAM,GAAGA,MAAM,CAAC2C,MAAP,CAAcC,IAAI,IAAIA,IAAI,CAACrC,EAAL,KAAYK,MAAM,CAACU,OAAP,CAAef,EAAjD,CAAT;AACzC,aAAO,EACH,GAAGI,KADA;AAEHX,QAAAA,MAFG;AAGHS,QAAAA;AAHG,OAAP;;AAKJ,SAAKb,YAAL;AACI,UAAIiD,YAAY,GAAGjC,MAAM,CAACU,OAAP,CAAelB,KAAlC;AACA,UAAI0C,WAAW,GAAGlC,MAAM,CAACU,OAAP,CAAejB,IAAjC;AACA,aAAO,EACH,GAAGM,KADA;AAEHkC,QAAAA,YAFG;AAGHC,QAAAA;AAHG,OAAP;;AAKJ,SAAKjD,gBAAL;AACI,aAAO,EACH,GAAGc,KADA;AAEHoC,QAAAA,aAAa,EAAE,CAACpC,KAAK,CAACoC;AAFnB,OAAP;;AAIJ,SAAKjD,YAAL;AACI,UAAI8C,IAAI,GAAG5C,MAAM,CAACgD,GAAP,CAAWJ,IAAI,IAAIA,IAAI,CAACrC,EAAL,KAAYK,MAAM,CAACU,OAAP,CAAef,EAA3B,GAAgC,EAAC,GAAGqC;AAAJ,OAAhC,GAA4C,IAA/D,EAAqED,MAArE,CAA4EC,IAAI,IAAIA,IAAI,KAAK,IAA7F,CAAX;AACAnC,MAAAA,cAAc,CAAC+B,IAAf,CAAoB,GAAGI,IAAvB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYzC,cAAZ;AACAwC,MAAAA,OAAO,CAACC,GAAR,CAAYlD,MAAZ;AACA,aAAO,EACH,GAAGW,KADA;AAEHF,QAAAA;AAFG,OAAP;;AAIJ;AACI,aAAOE,KAAP;AA1GR;AA4GH;AAED,OAAO,MAAMwC,UAAU,GAAG,CAACtB,aAAD,EAAgBN,WAAhB,EAA6BnB,KAA7B,EAAoCqC,KAApC,MAA+C;AACrE5B,EAAAA,IAAI,EAAEnB,WAD+D;AAClD4B,EAAAA,OAAO,EAAE;AAACO,IAAAA,aAAD;AAAgBN,IAAAA,WAAhB;AAA6BnB,IAAAA,KAA7B;AAAoCqC,IAAAA;AAApC;AADyC,CAA/C,CAAnB;AAIP,OAAO,MAAMW,aAAa,GAAG,CAAC7C,EAAD,EAAKmC,UAAL,MAAqB;AAC9C7B,EAAAA,IAAI,EAAElB,cADwC;AACxB2B,EAAAA,OAAO,EAAE;AAACf,IAAAA,EAAD;AAAKmC,IAAAA;AAAL;AADe,CAArB,CAAtB;AAIP,OAAO,MAAMW,WAAW,GAAG,CAACjD,KAAD,EAAQC,IAAR,MAAkB;AACzCQ,EAAAA,IAAI,EAAEjB,YADmC;AACrB0B,EAAAA,OAAO,EAAE;AAAClB,IAAAA,KAAD;AAAQC,IAAAA;AAAR;AADY,CAAlB,CAApB;AAGP,OAAO,MAAMiD,WAAW,GAAI/C,EAAD,KAAS;AAChCM,EAAAA,IAAI,EAAEf,YAD0B;AACZwB,EAAAA,OAAO,EAAE;AAACf,IAAAA;AAAD;AADG,CAAT,CAApB","sourcesContent":["import {getToday} from \"./dateReducer\";\n\nconst NEW_WORKLOG = 'NEW_WORKLOG';\nconst DELETE_WORKLOG = 'DELETE_WORKLOG';\nconst COPY_WORKLOG = 'COPY_WORKLOG';\nconst SET_ACTIVE_TIMER = 'SET_ACTIVE_TIMER';\nconst ADD_FAVORITE = 'ADD_FAVORITE';\n\n\nconst initialState = {\n    issues: [\n        {\n            time: {\n                from: '09:00',\n                by: '10:00'\n            },\n            label: 'JRM-310',\n            name: 'Team standup',\n            timer: '01:00:00',\n            id: 99,\n            date: getToday()\n        },\n    ],\n    favoriteIssues: [\n        {\n            time: {\n                from: '14:00',\n                by: '17:30'\n            },\n            label: 'JRM-541',\n            name: 'WORK',\n            timer: '8:00:00',\n            id: 98\n        },\n    ],\n    timer: '00:00:00'\n}\n\nexport default function issuesReducer(state = initialState, action) {\n    let issues = [...state.issues];\n    let favoriteIssues = [...state.favoriteIssues];\n\n    switch (action.type) {\n        case NEW_WORKLOG:\n\n        function formatTime(time) {\n            let from = Math.trunc(time[0] / 60);\n            let from2 = time[0] % 60;\n            let by = Math.trunc(time[1] / 60);\n            let by2 = time[1] % 60;\n\n            if (time[0] < 600) {\n                from = '0' + from;\n            }\n            if (time[1] < 600) {\n                by = '0' + by;\n            }\n            if (from2 === 0) {\n                from2 = '0' + from2;\n            }\n            if (by2 === 0) {\n                by2 = '0' + by2;\n            }\n\n            let fromResult = from + ':' + from2;\n            let byResult = by + ':' + by2;\n            return [fromResult, byResult];\n        }\n\n            let resultTime = formatTime(action.payload.sliderValue);\n            let from = resultTime[0];\n            let by = resultTime[1];\n\n            let formatStopwatchTime = (time) => {\n                let seconds = time % 60;\n                let minutes = Math.trunc(time / 60 % 60);\n                let hour = Math.trunc(time / 3600 % 24);\n                if (hour < 10) {\n                    hour = '0' + hour\n                }\n                if (minutes < 10) {\n                    minutes = '0' + minutes\n                }\n                if (seconds < 10) {\n                    seconds = '0' + seconds\n                }\n                let stopWatchTime = hour + ':' + minutes + ':' + seconds;\n                return stopWatchTime;\n            }\n\n            let stopwatchTime = formatStopwatchTime(action.payload.stopwatchTime);\n\n        function getRandomArbitrary(min, max) {\n            return Math.random() * (max - min) + min;\n        }\n\n            let calculateId = getRandomArbitrary(0, 10);\n\n            let date = new Date();\n            let issuesDate = `${date.getFullYear()}${date.getMonth()}${date.getDay()}`;\n\n            issues.push(\n                {\n                    time: {\n                        from: from,\n                        by: by\n                    },\n                    label: action.payload.label,\n                    name: action.payload.issue,\n                    timer: stopwatchTime,\n                    id: calculateId,\n                    date: issuesDate\n                });\n            return {\n                ...state,\n                issues\n            };\n        case DELETE_WORKLOG:\n            if (action.payload.isFavorite === true) favoriteIssues = favoriteIssues.filter(item => item.id !== action.payload.id);\n            if (action.payload.isFavorite === false) issues = issues.filter(item => item.id !== action.payload.id);\n            return {\n                ...state,\n                issues,\n                favoriteIssues\n            };\n        case COPY_WORKLOG:\n            let initialLabel = action.payload.label;\n            let initialName = action.payload.name;\n            return {\n                ...state,\n                initialLabel,\n                initialName,\n            };\n        case SET_ACTIVE_TIMER:\n            return {\n                ...state,\n                isActiveTimer: !state.isActiveTimer\n            };\n        case ADD_FAVORITE:\n            let item = issues.map(item => item.id === action.payload.id ? {...item} : null).filter(item => item !== null);\n            favoriteIssues.push(...item);\n            console.log(favoriteIssues);\n            console.log(issues);\n            return {\n                ...state,\n                favoriteIssues\n            };\n        default:\n            return state;\n    }\n}\n\nexport const submitForm = (stopwatchTime, sliderValue, label, issue) => ({\n    type: NEW_WORKLOG, payload: {stopwatchTime, sliderValue, label, issue}\n});\n\nexport const deleteWorklog = (id, isFavorite) => ({\n    type: DELETE_WORKLOG, payload: {id, isFavorite}\n});\n\nexport const copyWorklog = (label, name) => ({\n    type: COPY_WORKLOG, payload: {label, name}\n});\nexport const addFavorite = (id) => ({\n    type: ADD_FAVORITE, payload: {id}\n});\n"]},"metadata":{},"sourceType":"module"}